import datetime

from django.db import models

def test():
    return elet.objects.get_or_create(id=1)[0].id


# Create your models here.
class elet(models.Model):
        dataNum = models.DateField(auto_now=True)
        electricityNum = models.CharField(max_length=50)
        Power_consumption = models.CharField(max_length=50,null=True,default=0)
        Average_power = models.IntegerField(default=0)
        # userkeyid = models.CharField(null=False,max_length=80,unique=True,default=test)


def get_foo():
    return elet.objects.get_or_create(id=1)[0].id


class user(models.Model):
        # testid = models.ForeignKey(elet,on_delete=models.CASCADE,default=get_foo,to_field="userkeyid")
        user_Rename = models.CharField(null=False,max_length=80,default=0)
        username = models.CharField(max_length=50,null=False)
        password = models.CharField(max_length=50,null=False)

class newsID(models.Model):
    newsfenlei = (
        (
        '0','家常类',
        '1','社会类',
        '2','农业类',
        '3','科技类',
        '4','军事类',
        '6','政治类',
        '7','社会类',
        '8','无法分类'
    )
)
    news_fenlei = models.CharField(null=False,max_length=20,default=8)
class news(models.Model):
    news_title = models.CharField(null=False,max_length=100)
    news_url = models.CharField(null=True,max_length=100)
    img_url = models.CharField(max_length=100)
    news_id = models.ForeignKey(newsID,on_delete=models.CASCADE)
    news_group = models.CharField(null=False,max_length=100)
