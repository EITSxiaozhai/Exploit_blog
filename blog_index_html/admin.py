from time import timezone

from django.contrib import admin

import blog_index_html.models
from blog_index_html import models
from blog_index_html.models import none_user, Article_library, Article_comment,Article_Categories
from user_borad.models import user


# admin.site.register(Article_library)
# admin.site.register(none_user)

@admin.register(Article_Categories)
class user_txt(admin.ModelAdmin):
    list_display = ('Categories_id','created')



# 此处将文章管理类添加到菜单中@符号为注册到admin的装饰器
@admin.register(Article_library)
class TEXT_txt(admin.ModelAdmin):
    list_display = ('title', 'release_time', 'publisher', 'id','ARt_id')
    fields = ('title', 'Article_content','ARt_id')

    def save_model(self, request, obj, form, change):
        obj.publisher = str(request.user)
        super().save_model(request, obj, form, change)


@admin.register(none_user)
class user_txt(admin.ModelAdmin):
    list_display = ('user_Rename', 'username', 'useremail', 'sex', 'user_acict_statu', 'registration_date')


# 此处将游客用户类列表添加到菜单中，@符号为注册到admin的装饰器
# @admin.register(user)
# class user_txt(admin.ModelAdmin):
#     list_display = ('user_Rename', 'user_acict_statu', 'useremail', 'password')

@admin.register(Article_comment)
class user_txt(admin.ModelAdmin):
    list_display = ('comment_id', 'comment_content', 'blog_ID', 'creat_time', 'user_id')
